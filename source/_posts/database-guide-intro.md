title: 关系型数据库开发简明教程(1)——开篇
date: 2015-09-20 23:35:07
tags:
---


随着NodeJS的不断发展，越来越多的前端投入到“全栈”开发中。在存储层，必然少不了需要用到数据库。想必大家和我一样，一开始都是使用诸如mongodb等灵活的NoSQL数据库来进行开发，提到复杂、刻板、不熟悉的关系型数据库大多其实是拒绝的。但是，随着我们的应用慢慢变复杂，我们会发现mongodb松散的文档类型时不时的会给我们带来一定的麻烦（当然通过使用mongoose这类的orm可以很好的规避掉一些问题），使用不当，极易采坑。让我们都放下“成见”，试着走进关系型数据库的世界，你会发现这也是一个值得探索的世界。

这个系列我主要使用MySQL数据库，计划写7篇。包括如下内容：

  - 关系型数据库一些基本概念及MySQL环境安装。
  - 如何建库、建表，基本的SQL语法介绍。
  - 数据库设计及设计工具——ER图（Entity Relationship）的使用，如何用表来表示实体间关系（一对一、一对多、多对多）。
  - 使用SQL进行CRUD（Create、Retrieve、Update、Delete）操作。
  - SELECT语句进一步介绍，索引，表间的join查询。
  - 使用ORM框架sequelize来提高开发效率。
  - 一个完整实例：记事本的开发。

那么，这是本系列的第一篇，我们就轻松些，来学习下关系型数据的相关概念。

# 数据库（database）

*数据库是，有组织的将数据进行保存的容器。*这里需要注意的是，数据库不等于数据库软件，数据库只是一个物理上的存储容器，我们通常不直接访问数据库，而是通过数据库软件去创建、操作、访问数据库。它们的关系如下图所示：

![database and dbms](http://www.elated.com/res/Image/articles/development/mysql-for-absolute-beginners/database.png)

# 表（table）

我们可以将数据库想象成一个文件柜，我们存储数据时，当然不能一股脑将数据扔进柜子完事，这会为以后的检索、管理带来麻烦。更好的做法是先建立一个文件，定义好文件的模板，然后再将资料按照模板填入文件中。在数据库中，这种文件就是表。*表就是，特定类型的结构化清单。*

存储在表中的数据都是符合某种模式的数据，不可能将用户数据和订单数据存储在一个表中。

# 列（column）

*列就是表中的一个字段，表都是由一个或多个列组成的。*前面我们说，表是文件，那就可以将列想象成我们需要在文件中填入的各个字段。

数据库中的列都有特定的数据类型，比如：数字、日期等等，约束了该列可以存储的数据。

# 行（row）

*行就是表中的一条记录。*表中数据按行存储，比如：用户表中每行存储了一个用户。

# 主键（primary key）及外键（foreign key）

主键是用来唯一标识表中的某一行的一个特殊列，一般是自动增长的整数。没有主键，操作特定的行就会变得十分困难。

外键主要用来表示表之间的关系，这个我们后面会进行想象介绍。

# MySQL环境安装

MySQL的安装，在mac下十分简单，直接使用`brew install mysql`即可，其他环境请自行google搜索。

MySQL实际上是一个客户机-服务器的数据库软件。所以，我们需要首先启动MySQL服务器，`mysqld start`。

然后，需要一个客户机来和数据库服务器打交道，这里就使用自带的mysql客户端`mysql`来连接。建立连接后就可以对数据库进行操作了。

比如：

  - `show databases;`列出所有数据库
  - `use dbname;`使用某数据库
  - `show tables;`查看数据库里面的表（需要先use数据库）
  - `show columns from table;`查看表的列结构

安装后，默认的root用户密码为空，可以使用`mysql -u root -password 'password';`来设置密码，设置后就需要使用`mysql -u root -p`来进行连接。

这一篇比较简单，多是概念。下一篇我们将学习使用SQL来建库、建表。
